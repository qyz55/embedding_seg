{
    "train_input_config": {
        "dataset_name": "voc2012",
        "data_dir": "/data/VOCdevkit/VOC2012",
        "data_list": "../experiments/data/imageset/voc12/train/train.txt",
        "num_reader": 4,
        "ignore_label": 255,
        "input_size": [321, 321]
    },

    "train_config": {
        "batch_size": 7,
        "optimizer_config": {
            "type": "Adam",
            "num_steps": 25000,
            "grad_clip_by_value": 0.0,
            "learning_rate": {
                "base_lr": 1e-3
            }
        },
        "augment_config": {
            "random_scale": false,
            "random_crop": false,
            "random_mirror": false
        },
        "restore_from": "../experiments/checkpoints/resnet_v1_50.ckpt",
        "not_restore_last": true,
        "loss_config": {
            "dense_siamese_loss": {
                "use": false,
                "kernel_size": [
                    [3, 3],
                    [3, 3],
                    [3, 3]
                ],
                "strides": [
                    [1, 1],
                    [1, 1],
                    [1, 1]
                ],
                "padding": [
                    [1, 1],
                    [2, 2],
                    [5, 5]
                ],
                "dilation_rate": [
                    [1, 1],
                    [2, 2],
                    [5, 5]
                ],
                "alpha": 0.5,
                "beta": 2,
                "norm_ord": 1,
                "normalize": "none",
                "ignore_bg_pos": true,
                "data_balance": true,
                "weight": 1.0
            },
            "pixel_neighbor_binary_loss": {
                "use": true,
                "kernel_size": [21, 21],
                "strides": [1, 1],
                "padding": [10, 10],
                "dilation_rate": [1, 1],
                "weight": 1.0
            },
            "semantic_seg_loss": {
                "use": true,
                "weight": 1.0
            },
            "weight_decay": 1e-6
        }
    },

    "eval_config": {
        "finetune": true,
        "eval_finetune_config": {
            "batch_size": 10,
            "optimizer_config": {
                "type": "Adam",
                "num_steps": 200,
                "grad_clip_by_value": 0.0,
                "learning_rate": {
                    "base_lr": 1e-6
                }
            },
            "augment_config": {
                "random_scale": false,
                "random_crop": false,
                "random_mirror": false
            },
            "restore_from": "../experiments/checkpoints/resnet_v1_50.ckpt",
            "not_restore_last": false,
            "loss_config": {
                "dense_siamese_loss": {
                    "use": true,
                    "kernel_size": [
                        [3, 3],
                        [3, 3],
                        [3, 3]
                    ],
                    "strides": [
                        [1, 1],
                        [1, 1],
                        [1, 1]
                    ],
                    "padding": [
                        [1, 1],
                        [2, 2],
                        [5, 5]
                    ],
                    "dilation_rate": [
                        [1, 1],
                        [2, 2],
                        [5, 5]
                    ],
                    "alpha": 0.5,
                    "beta": 2,
                    "norm_ord": 1,
                    "normalize": "none",
                    "ignore_bg_pos": true,
                    "data_balance": true,
                    "weight": 1.0
                },
                "pixel_neighbor_binary_loss": {
                    "use": false,
                    "kernel_size": [21, 21],
                    "strides": [1, 1],
                    "padding": [10, 10],
                    "dilation_rate": [1, 1],
                    "weight": 1.0
                },
                "semantic_seg_loss": {
                    "use": false,
                    "weight": 1.0
                },
                "weight_decay": 1e-6
            }
        }
    },

    "model_config": {
        "model_name": "resnet50",
        "is_training": true,
        "fusion_layers": ["input", "resnet_v1_50/block1", "resnet_v1_50/block2", "resnet_v1_50/block3"],
        "embedding_depth": 64,
        "seg_branch": {
            "use": false,
            "output_stride": 8,
            "inst_num_classes": -1,
            "cls_num_classes": -1
        }
    }
}
